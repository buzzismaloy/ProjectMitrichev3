# Решение задачи: Течение в трубе с источником

## Описание задачи

Данная программа решает уравнение с использованием явной разностной схемы, применяя параллелизацию с использованием библиотеки MPI (8 процессов). 

Рассматривается уравнение вида:


dc/dt + dc/dx = 3x


где:
- x ∈ [0, 1], t ∈ [0, 1],
- Граничное условие: \(c(t, 0) = 11\),
- Начальное условие: \(c(0, x) = 11 - x\).

### Цель
Реализовать распараллеливание по всем независимым переменным с использованием MPI, разделив задачу на 8 процессов.

# Реализация

## Описание проекта

Этот проект моделирует течение жидкости в трубе с источником, используя параллельные вычисления с помощью MPI (Message Passing Interface). Цель проекта — решить задачу численного моделирования, распределяя вычисления между несколькими процессами для повышения производительности.

## Структура проекта

### Основные файлы:
1. **`main.cpp`**: Главный файл программы, реализующий основной алгоритм расчётов и распределения данных между процессами.
2. **`solver.h`**: Заголовочный файл, содержащий определения глобальных переменных и объявление вспомогательных функций.
3. **`solver.cpp`**: Реализация вспомогательных функций, включая инициализацию данных и обмен граничными значениями.
4. **`tests.cpp`**: Набор тестов для проверки корректности обмена граничными значениями.
5. **`CMakeLists.txt`**: Сценарий для сборки проекта с использованием CMake.

---

## Установка и запуск

### Требования:
- C++ компилятор с поддержкой стандарта C++11 или выше.
- Установленный MPI (например, OpenMPI).
- CMake версии 3.10 или выше.

### Сборка проекта:
1. Создайте директорию для сборки:
   ```bash
   mkdir build && cd build
   ```
2. Сгенерируйте make-файлы с помощью CMake:
   ```bash
   cmake ..
   ```
3. Соберите проект:
   ```bash
   make
   ```

### Запуск программы:

- Для выполнения основной программы:
  ```bash
  mpirun -np <число_процессов> ./main
  ```
- Для запуска тестов:
  ```bash
  mpirun -np <число_процессов> ./tests
  ```

---

## Подробное описание файлов

### `main.cpp`

**Основной файл программы:**
- Инициализирует среду MPI.
- Делит вычислительную сетку между процессами.
- Реализует временные шаги численного решения с обменом граничными значениями.
- Выводит информацию о прогрессе выполнения.

**Ключевые функции:**
- `MPI_Init` и `MPI_Finalize`: Инициализация и завершение MPI.
- `exchange_boundaries`: Функция обмена граничными значениями.
- Основной цикл по времени с применением численного метода.

---

### `solver.h`

**Содержит:**
- Глобальные параметры модели: размеры сетки, шаг сетки, границы.
- Объявления вспомогательных функций:
  - `exchange_boundaries`: Обмен данными между процессами.
  - `initialize`: Начальная инициализация концентрации.

---

### `solver.cpp`

**Реализует функции:**
- **`initialize`**: Устанавливает начальные значения концентрации в каждом процессе.
- **`exchange_boundaries`**: Выполняет обмен граничными значениями между соседними процессами, используя неблокирующие вызовы MPI (`MPI_Isend` и `MPI_Irecv`).

---

### `tests.cpp`

**Содержит тесты для проверки обмена граничными данными:**
- Создает уникальные значения в каждом процессе.
- Проверяет корректность полученных данных с помощью `assert`.

**Ключевая функция:**
- **`test_exchange_boundaries`**: Тестирует корректность передачи граничных данных между процессами.

---

### `CMakeLists.txt`

**Сценарий сборки:**
- Создает библиотеку `solver` из `solver.cpp`.
- Собирает два исполняемых файла: `main` и `tests`.
- Настраивает флаги компиляции и линковки для работы с MPI.

